<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javascript</title>
</head>
<body>
    <script>
        var catalogo = [];


function adicionarProduto() {
    var nome_produto = prompt("Insira o nome do produto:");
    var preco_produto = parseFloat(prompt("Insira o preço do produto:"));
    var descricao_produto = prompt("Insira a descrição do produto:");
    var local_loja_produto = prompt("Insira a localidade da loja física(se houver) em que se encontra o produto:");
    var quantidade_estoque = prompt("Insira a quantidade de peças no estoque:");
    
    var produto = {
        nome: nome_produto,
        preco: preco_produto,
        descricao: descricao_produto,
        local: local_loja_produto,
        quantidade: quantidade_estoque
    };
    
    
    catalogo.push(produto);
    alert("Produto adicionado com sucesso!");
}


function buscarProduto() {
    var nome = prompt("Insira o nome do produto que deseja buscar:");
    var encontrado = false;
    
    
    catalogo.forEach(function(produto) {
        if (produto.nome === nome) {
            alert (`Nome: ${produto.nome}\nPreço: ${produto.preco}\nDescrição: ${produto.descricao}\nLocal da loja física: ${produto.local} \nQuantidade no estoque: ${produto.quantidade}`);
            encontrado = true;
        }
    });
    
    if (!encontrado) {
        alert("Infelizmente não encontramos o produto desejado, tem certeza que escreveu corretamente? Tente Novamente!!");
    }
}


function atualizarProduto() {
    var nome = prompt("Insira o nome do produto que deseja atualizar:");
    var encontrado = false;
    
    
    catalogo.forEach(function(produto) {
        if (produto.nome === nome){
            produto.preco = parseFloat(prompt("Insira o novo preço do produto:"));
            produto.descricao = prompt("Insira a nova descrição do produto:");
            produto.local = prompt("A loja ainda continua no mesmo lugar? Se sim, informe o mesmo local,se não,, informe o novo endereço:");
            produto.quantidade = prompt("Insira se a quantidade de peças no estoque mudou, se sim, quantas ainda estão disponíveis? ");
            encontrado = true;
            alert("Produto atualizado com sucesso!");
        }
    });
    
    if (!encontrado) {
        alert("Infelizmente não encontramos o produto desejado, tem certeza que escreveu corretamente? Tente Novamente!!");
    }
}


function exibirTodosProdutos() {
    var listaProdutos = "Catálogo de Produtos:\n\n";
    
    
    catalogo.forEach(function(produto) {
        listaProdutos += `Nome: ${produto.nome}\nPreço: ${produto.preco}\nDescrição: ${produto.descricao}\nLocal da loja física: ${produto.local} \nQuantidade no estoque: ${produto.quantidade}\n\n`;
    });
    
    alert(listaProdutos);
}


function removerProduto() {
    var nome = prompt("Insira o nome do produto que deseja remover:");
    var remover = -1;
    
    
    catalogo.forEach(function(produto, i) {
        if (produto.nome=== nome) {
            remover = i;
        }
    });
    
    
    if (remover !== -1) {
        catalogo.splice(remover, 1);
        alert("Produto removido com sucesso!");
    } else {
        alert("Infelizmente não encontramos o produto desejado, tem certeza que escreveu corretamente? Tente Novamente!!");
    }
}

     var continuar = true;



do {
    var escolha = prompt("Escolha uma opção:\n 1. Adicionar Produto \n 2. Buscar Produto \n 3. Atualizar Produto \n 4. Visualizar Todos os Produtos \n 5. Remover Produto \n 6. Sair");
    
    if ("1" == escolha) {
        adicionarProduto();
    } else if ("2" == escolha) {
        buscarProduto();
    } else if ("3" == escolha) {
        atualizarProduto();
    } else if ("4" == escolha) {
        exibirTodosProdutos();
    } else if ("5" == escolha) {
        removerProduto();
    } else if ("6" == escolha) {
        alert("Que pena que queira sair, volte sempre!")
        break;
    } else {
        alert("Opção inválida. Por favor, escolha novamente.");
    }
} while (true);

   </script>
</body>
</html>